<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<body>
<div id="main-content" class="container" align="center">

    <div class="wrapper" >
        <p></p>
        <div class="form-group">
            <h3 id="total_amount" style="color: #305468">Total amount: {{ amount.amount }} {{ amount.currencyName }}</h3>
            <h5 id="left_to_pay" style="color: #305468">Left to pay: {{ amount.leftToPay }} {{ amount.currencyName }}</h5>
        </div>
        <form [formGroup]="formGroup">
            <mat-form-field style="width: 100%;">
                <input matInput placeholder="Name" formControlName="nameForm">
                <mat-hint align="start">Please enter your name</mat-hint>
                <mat-error *ngIf="nameForm.invalid && nameForm.touched">
                    Name cannot be empty
                </mat-error>
            </mat-form-field>
            <br>
            <mat-form-field style="width: 100%;">
                <input type="number" step=".01" matInput placeholder="Amount" formControlName="amountForm">
                <mat-hint align="start">Please enter amount (example: 21, 35.99)</mat-hint>
                <mat-error *ngIf="amountForm.invalid && amountForm.touched">
                    Wrong amount or exceeded maximum amount
                </mat-error>
            </mat-form-field>
        </form>

<!--        TODO add tips here-->
        <div id="tip">
            <h4>Tip:</h4>
            <button id="tenPercentTip" class='focus' type="submit" (focus)="setAmountWithTip(tenPercentTip)">{{ tenPercentTip }} {{ amount.currencyName }}</button>
            <button id="fifteenPercentTip" class='focus' type="submit" (focus)="setAmountWithTip(fifteenPercentTip)">{{ fifteenPercentTip }} {{ amount.currencyName }}</button>
            <button id="twentyPercentTip" class='focus' type="submit" (focus)="setAmountWithTip(twentyPercentTip)">{{ twentyPercentTip }} {{ amount.currencyName }}</button>
        </div>

        <div id="youPay">
            <h3>You pay: {{ totalAmountWithTip }} </h3>
        </div>

        <br>

        <div style="text-align: center;" class="row">
            <div class="column">
                <button id="blik" type="submit" class="btn-image btn btnBlik" [disabled]="amountForm.invalid || nameForm.invalid" (click)="onPay()">
                    <img style="width: 100px; margin-left: auto; margin-right: auto; display: block;" src="/assets/images/blik_logo.svg" alt="image">
                </button>
            </div>
            <div class="column">
                <button id="googlepay" type="submit" class="btn-image btn" [disabled]="amountForm.invalid || nameForm.invalid" (click)="onPay()">
                    <img style="width: 100px; margin-left: auto; margin-right: auto; display: block;" src="/assets/images/google_pay_logo.svg" alt="image">
                </button>
            </div>
            <div class="column">
                <button id="applepay" type="submit" class="btn-image btn btnApple" [disabled]="amountForm.invalid || nameForm.invalid" (click)="onPay()">
                    <img style="width: 100px; margin-left: auto; margin-right: auto; display: block;" src="/assets/images/apple_pay_logo.svg" alt="image">
                </button>
            </div>
        </div>

        <div class="text-divider">OR</div>

        <button id="payOnTerminal" style="text-align: center; " type="submit" class="btn2" [disabled]="amountForm.invalid" (click)="onPayOnTerminal()">Pay by card on terminal</button>
    </div>
    <ng-template #loadingAmount>
        <mat-spinner></mat-spinner>
    </ng-template>
</div>
</body>
</html>
